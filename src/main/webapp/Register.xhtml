<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta charset="utf-8" />
	<title>Inscription</title>
	<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
		rel="stylesheet"
		integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
		crossorigin="anonymous" />
	<h:outputStylesheet name="css/style.css" />

</h:head>
<h:body>

	<!-- barre de navigation -->
	<div class="card">
		<h:form>
			<p:growl id="messages" />
			<p:menubar>
				<p:menuitem value="home" icon="home" url="Login.xhtml" />
				<p:menuitem value="à propos" icon="pi pi-question" url="Apropos.xhtml" />
				<p:divider layout="vertical" />
				<p:menuitem value="Se connecter" icon="pi pi-sign-in" url="Login.xhtml" />
			</p:menubar>
		</h:form>
	</div>

	<div class="container">
		<h:form>
			<fieldset>
				<legend>Inscription : Création de votre compte</legend>
				<div class="form-group">
					<h:outputLabel for="nom">Nom d'utilisateur :</h:outputLabel>
					<h:inputText id="nom" value="#{registerBean.user.pseudo}"
						class="form-control" size="20" maxlength="20" label="Pseudo">
						<f:validator binding="#{pseudoValidator}" />
					</h:inputText>
					<h:message id="nomMessage" for="nom" class="text-danger" />
					<br />
				</div>
				<div class="form-group">
					<h:outputLabel for="motdepasse">Mot de passe (8 caractères min):</h:outputLabel>
					<h:inputSecret id="motdepasse"
						value="#{registerBean.user.password}" class="form-control"
						size="20" maxlength="20" label="Mot de Passe" />
					<h:message id="motDePasseMessage" for="motdepasse"
						class="text-danger" />
					<br />
				</div>
				<div class="form-group">
					<h:outputLabel for="name">Nom :</h:outputLabel>
					<h:inputText id="name" value="#{registerBean.user.name}"
						class="form-control" size="20" maxlength="20" label="Nom" />
					<h:message id="nameMessage" for="name" class="text-danger" />
					<br />
				</div>
				<div class="form-group">
					<h:outputLabel for="firstname">Prénom :</h:outputLabel>
					<h:inputText id="firstname" value="#{registerBean.user.firstname}"
						class="form-control" size="20" maxlength="20" label="Prenom" />
					<h:message id="firstnameMessage" for="firstname"
						class="text-danger" />
					<br />
				</div>
				<div class="form-group">
					<h:outputLabel for="address">Adresse :</h:outputLabel>
					<h:inputText id="address" value="#{registerBean.user.address}"
						class="form-control" size="20" maxlength="60" label="Adresse" />
					<h:message id="addressMessage" for="address" class="text-danger" />
					<br />
				</div>

				<div class="form-group">
					<h:outputLabel for="mail">Adresse email :</h:outputLabel>
					<h:inputText id="mail" value="#{registerBean.user.mail}"
						class="form-control" size="20" maxlength="60"  label="Email">
						<f:validator binding="#{emailValidator}" />
					</h:inputText>
					<h:message id="mailMessage" for="mail" class="text-danger"
						errorClass="text-danger" />
					<br />
				</div>

				<h:messages globalOnly="true" infoClass="info" />

				<h:commandButton class="btn btn-success rounded-pill"
					value="Valider" action="#{registerBean.registerUser()}"
					styleClass="sansLabel" update="nomMessage" />
				<br />
			</fieldset>
		</h:form>
	</div>
</h:body>
</html>