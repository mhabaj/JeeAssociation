<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:f="http://java.sun.com/jsf/core">


	<h:head>
		<meta charset="utf-8" />
		<title>Welcome</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
			crossorigin="anonymous" />
		<!--<h:outputStylesheet library="bootstrap" name="css/style.css" />-->
	</h:head>

	<h:body>
	
			<p> Commentaires de la communauté: </p>
			<ui:repeat value="#{commentBean.comments}" var="comment">
				
					
						<h:outputText   value="#{comment.content}" />
						
						<p> écrit par:  #{comment.user.pseudo} le : #{comment.date} </p>
						<p> Likes : #{comment.upvoteNumber} </p>
						
						<h:form>
							<h:commandLink value="Upvote" action="#{commentBean.increaseUpVote(comment.content)}" />
						</h:form>
					
			</ui:repeat>
	
		
		<br/>
		<br/>
		
		
		
			<h:form>
				<fieldset>
					<legend>Ajouter votre commentaire: </legend>
					<div class="form-group">
						Contenu:
						
						<h:inputText id="content" class="form-control" value="#{commentBean.comment.content}" update="contentMessage"/>
						<h:message id="contentMessage" for="content" class="text-danger"  />	
					</div>
					<h:messages globalOnly="true" infoClass="info" />
					<h:commandButton class="btn btn-default" action="#{commentBean.CommentSomething}" value="Ajouter" />
					
					<br />
				</fieldset>
			</h:form>
	
	</h:body>
</html>
